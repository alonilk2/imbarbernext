"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{2590:(e,t,n)=>{n.r(t),n.d(t,{ColumnsPhotoAlbum:()=>j,MasonryPhotoAlbum:()=>k,RowsPhotoAlbum:()=>b,StaticPhotoAlbum:()=>v,computeColumnsLayout:()=>M,computeMasonryLayout:()=>R,computeRowsLayout:()=>w,default:()=>x});var r=n(7876),o=n(4232);function i(e,[t,n]){let[r,o]=e;return void 0!==r&&void 0!==o&&void 0!==t&&void 0!==n&&t>r&&t-r<=20&&n<o?[r,n]:r!==t||o!==n?[t,n]:e}function l(e,t,n){let[[r],l]=(0,o.useReducer)(i,[n]),u=function(e){let t=(0,o.useRef)(e);return(!e||!t.current||e.length!==t.current.length||t.current.some((t,n)=>t!==e[n]))&&(t.current=e),t.current}(t),a=(0,o.useRef)(void 0);return{containerRef:(0,o.useCallback)(t=>{a.current?.disconnect(),a.current=void 0;let n=()=>l([function(e,t){let n=e?.clientWidth;if(void 0!==n&&t&&t.length>0){let e=[...t.filter(e=>e>0)].sort((e,t)=>t-e);e.push(Math.floor(e[e.length-1]/2)),n=e.find((t,r)=>t<=n||r===e.length-1)}return n}(t,u),window.innerWidth-document.documentElement.clientWidth]);n(),t&&"undefined"!=typeof ResizeObserver&&(a.current=new ResizeObserver(n),a.current.observe(t)),"function"==typeof e?e(t):e&&(e.current=t)},[e,u]),containerWidth:r}}function u(e){return["react-photo-album",e].filter(Boolean).join("--")}let a=Object.freeze([1200,600,300,0]);function s(e,t){return"function"==typeof e?e(t):e}function c(e,t){return void 0!==t?s(e,t):void 0}function f(e,t,n,r=0){if(void 0===t)return;let o=c(e,t);return Math.round(Math.max(void 0===o?s(n[Math.max(a.findIndex(e=>e<=t),0)],t):o,r))}function h(e,{spacing:t,padding:n,componentsProps:r,render:o}){return{spacing:f(t,e,[20,15,10,5]),padding:f(n,e,[0,0,0,0]),componentsProps:s(r,e)||{},render:s(o,e)}}function d(e,t=0){let n=10**t;return Math.round((e+Number.EPSILON)*n)/n}let p=(0,o.forwardRef)(function({as:e,render:t,context:n,classes:o=[],variables:i={},style:l,className:a,children:s,...c},f){let h=function(...e){return[...e].filter(Boolean).join(" ")}(...(Array.isArray(o)?o:[o]).filter(e=>"string"==typeof e).map(u),a),p={style:{...Object.fromEntries(Object.entries(i).map(([e,t])=>{var n;return[(n=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),`--${u(n)}`),"number"==typeof t?d(t,5):t]})),...l},className:h,children:s,...c};if(t){let e=t({ref:f,...p},n);if(e)return e}return(0,r.jsx)(e||"div",{ref:f,...p})}),m=(0,o.forwardRef)(function({photo:e,index:t,width:n,height:o,onClick:i,render:{wrapper:l,link:u,button:a,image:s,extras:c}={},componentsProps:{link:f,button:h,wrapper:m,image:v}={}},g){let w;let{href:b}=e,y={photo:e,index:t,width:d(n,3),height:d(o,3)};return w=b?{...f,as:"a",render:u,classes:["photo","link"],href:b,onClick:i}:i?{...h,as:"button",type:"button",render:a,classes:["photo","button"],onClick:i}:{...m,render:l,classes:"photo"},(0,r.jsxs)(p,{ref:g,variables:{photoWidth:y.width,photoHeight:y.height},...{context:y,...w},children:[(0,r.jsx)(p,{as:"img",classes:"image",render:s,context:y,...v}),c?.({},y)]})}),v=(0,o.forwardRef)(function({layout:e,sizes:t,model:n,skeleton:i,onClick:l,render:{container:u,track:a,photo:c,...f}={},componentsProps:{container:h,track:v,link:g,button:w,wrapper:b,image:y}={}},M){let{spacing:j,padding:R,containerWidth:k,tracks:x,variables:z,horizontal:$}=n||{};return(0,r.jsxs)(p,{role:"group","aria-label":"Photo album",...h,variables:{spacing:j,padding:R,containerWidth:k,...z},classes:["",e],render:u,ref:M,children:[void 0!==j&&void 0!==R&&void 0!==k&&x?.map(({photos:e,variables:n},i)=>{let u=e.length,h=$?u:x.length;return o.createElement(p,{...v,key:i,render:a,classes:"track",variables:{trackSize:u,...n}},e.map(e=>{let{photo:n,index:o,width:i}=e,{key:u,src:a,alt:p,title:v,label:M}=n,x=l?e=>{l({event:e,photo:n,index:o})}:void 0;if(c){let t=c({onClick:x},e);if(t)return t}let z=e=>M?{"aria-label":M,...e}:e;return r.jsx(m,{onClick:x,render:f,componentsProps:{image:{loading:"lazy",decoding:"async",src:a,alt:p,title:v,...function(e,t,n,r,o,i,l){let u,a;let s=e=>{let t=i*(o-1)+2*l*o;return`calc((${e.match(/^\s*calc\((.*)\)\s*$/)?.[1]??e} - ${t}px) / ${d((r-t)/n,5)})`},c=e.srcSet;return c&&c.length>0&&(u=c.concat(c.some(({width:t})=>t===e.width)?[]:[{src:e.src,width:e.width,height:e.height}]).sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", ")),{srcSet:u,sizes:t?.size?(t.sizes||[]).map(({viewport:e,size:t})=>`${e} ${s(t)}`).concat(s(t.size)).join(", "):`${Math.ceil(n/r*100)}vw`}}(n,t,i,k,h,j,R),...s(y,e)},link:z(s(g,e)),button:z(s(w,e)),wrapper:s(b,e)},...e},u??a)}))}),void 0===k&&i]})});function g(e,t,n,r){return(t-(e.length-1)*n-2*r*e.length)/e.reduce((e,t)=>e+function({width:e,height:t}){return e/t}(t),0)}function w(e,t,n,r,o,i,l){var u;let a=d(r/o/Math.min(...e.map(e=>(function({width:e,height:t}){return e/t})(e))))+(i||0)+2,s=function(e,t){if(!e)return;let n=[];for(let r=t;void 0!==r;r=e.get(r))n.push(r);return n.reverse()}(function(e,t,n){var r;let o=new Map,i=new Set,l=new Map;l.set(0,0);let u=function(e){let t=0,n=[],r=(t,r)=>0>e(n[t],n[r]),o=(e,t)=>{let r=n[e];n[e]=n[t],n[t]=r},i=e=>{let t=e,n=Math.floor(t/2);for(;t>1&&r(n,t);)o(n,t),n=Math.floor((t=n)/2)},l=e=>{let n=e,i=2*n;for(;i<=t&&(i<t&&r(i,i+1)&&(i+=1),r(n,i));)o(n,i),i=2*(n=i)};return{push:e=>{n[t+=1]=e,i(t)},pop:()=>{if(0===t)return;o(1,t),t-=1;let e=n.pop();return l(1),e},size:()=>t}}((r=e=>e[1],(e,t)=>r(t)-r(e)));for(u.push([t,0]);u.size()>0;){let[t,n]=u.pop();if(!i.has(t)){let r=e(t);i.add(t),r.forEach((e,r)=>{let i=n+e,a=o.get(r),s=l.get(r);(void 0===s||s>i&&(s/i>1.005||void 0!==a&&a<t))&&(l.set(r,i),u.push([r,i]),o.set(r,t))})}}return l.has(n)?o:void 0}(u=>{let s=new Map;s.set(u,0);let c=Math.min(a,l||1/0);for(let l=u+(i||1);l<e.length+1&&!(l-u>c);l+=1){let i=function(e,t,n,r,o,i,l){let u=e.slice(t,n),a=g(u,r,o,i);return a>0?(a-l)**2*u.length:void 0}(e,u,l,r,t,n,o);if(void 0===i)break;s.set(l,i)}return s},0,u=e.length),u);if(!s)return;let c=[];for(let o=1;o<s.length;o+=1){let i=e.map((e,t)=>({photo:e,index:t})).slice(s[o-1],s[o]),l=g(i.map(({photo:e})=>e),r,t,n);c.push({photos:i.map(({photo:e,index:t})=>({photo:e,index:t,width:l*function({width:e,height:t}){return e/t}(e),height:l}))})}return{spacing:t,padding:n,containerWidth:r,tracks:c,horizontal:!0}}let b=(0,o.forwardRef)(function({photos:e,breakpoints:t,defaultContainerWidth:n,...i},u){let{containerRef:a,containerWidth:s}=l(u,t,n),{spacing:d,padding:p,targetRowHeight:m,minPhotos:g,maxPhotos:b,...y}=function(e,{photos:t,targetRowHeight:n,rowConstraints:r,...o}){let{spacing:i,padding:l,componentsProps:u,render:a}=h(e,o),{singleRowMaxHeight:s,minPhotos:d,maxPhotos:p}=c(r,e)||{};if(void 0!==s&&void 0!==i&&void 0!==l){let e=Math.floor(t.reduce((e,{width:t,height:n})=>e+t/n*s-2*l,l*t.length*2+i*(t.length-1)));e>0&&(u.container={...u.container},u.container.style={maxWidth:e,...u.container.style})}return{...o,targetRowHeight:f(n,e,[e=>e/5,e=>e/4,e=>e/3,e=>e/2]),render:a,spacing:i,padding:l,minPhotos:d,maxPhotos:p,componentsProps:u}}(s,{photos:e,...i}),M=(0,o.useMemo)(()=>void 0!==s&&void 0!==d&&void 0!==p&&void 0!==m?w(e,d,p,s,m,g,b):void 0,[e,d,p,s,m,g,b]);return(0,r.jsx)(v,{layout:"rows",ref:a,model:M,...y})});function y(e,t,n,r,o,i,l){let u=[],a=l.reduce((e,t)=>e+t,0);for(let s=0;s<e.length-1;s+=1){let c=t.map((e,t)=>({photo:e,index:t})).slice(e[s],e[s+1]),f=l.reduce((e,t,n)=>e+(i[s]-i[n])*t,0),h=(o-(e.length-2)*n-2*(e.length-1)*r-f)*l[s]/a;u.push({photos:c.map(({photo:e,index:t})=>({photo:e,index:t,width:h,height:h/function({width:e,height:t}){return e/t}(e)})),variables:{adjustedGaps:f,columnRatio:l[s]}})}return{tracks:u,variables:{totalRatio:a}}}function M(e,t,n,r,o){let{tracks:i,variables:l}=function(e,t,n,r,o,i){var l;let u=[],a=[];if(e.length<=i){let o=e.length>0?e.reduce((e,t)=>e+function({width:e,height:t}){return e/t}(t),0)/e.length:1;for(let t=0;t<i;t+=1)u[t]=2*n,a[t]=t<e.length?function({width:e,height:t}){return e/t}(e[t]):o;return y(Array.from({length:i+1},(t,n)=>Math.min(n,e.length)),e,t,n,r,u,a)}let s=(e.reduce((e,t)=>e+o/function({width:e,height:t}){return e/t}(t),0)+t*(e.length-i)+2*n*e.length)/i,c=function(e,t,n){let r=[n];for(let o=n,i=t;i>0;i-=1)[o]=e.get(o)[i],r.push(o);return r.reverse()}(function(e,t,n,r){let o=new Map,i=new Set;i.add(0);for(let n=0;n<t;n+=1){let l=[...i.keys()];i.clear(),l.forEach(l=>{let u=n>0?o.get(l)[n][1]:0;e(l).forEach(([e,a])=>{let s=o.get(e);s||(s=[],o.set(e,s));let c=u+a,f=s[n+1];(!f||f[1]>c&&(f[1]/c>1.0001||l<f[0]))&&(s[n+1]=[l,c]),n<t-1&&e!==r&&i.add(e)})})}return o}(r=>{let i=[],l=1.5*s,u=o/function({width:e,height:t}){return e/t}(e[r])+2*n;for(let a=r+1;a<e.length+1&&(i.push([a,(s-u)**2]),!(u>l)&&a!==e.length);a+=1)u+=o/function({width:e,height:t}){return e/t}(e[a])+t+2*n;return i},i,0,l=e.length),i,l);for(let r=0;r<c.length-1;r+=1){let o=e.slice(c[r],c[r+1]);u[r]=t*(o.length-1)+2*n*o.length,a[r]=1/o.reduce((e,t)=>e+1/function({width:e,height:t}){return e/t}(t),0)}return y(c,e,t,n,r,u,a)}(e,t,n,r,(r-t*(o-1)-2*n*o)/o,o);return i.some(e=>e.photos.some(({width:e,height:t})=>e<0||t<0))?o>1?M(e,t,n,r,o-1):void 0:{tracks:i,spacing:t,padding:n,containerWidth:r,variables:{columns:o,...l}}}let j=(0,o.forwardRef)(function({photos:e,breakpoints:t,defaultContainerWidth:n,...i},u){let{containerRef:a,containerWidth:s}=l(u,t,n),{spacing:c,padding:d,columns:p,...m}=function(e,{columns:t,...n}){return{...n,...h(e,n),columns:f(t,e,[5,4,3,2],1)}}(s,{photos:e,...i}),g=(0,o.useMemo)(()=>void 0!==s&&void 0!==c&&void 0!==d&&void 0!==p?M(e,c,d,s,p):void 0,[e,c,d,s,p]);return(0,r.jsx)(v,{layout:"columns",ref:a,model:g,...m})});function R(e,t,n,r,o){let i=(r-t*(o-1)-2*n*o)/o;if(i<=0)return o>1?R(e,t,n,r,o-1):void 0;let l=[];for(let e=0;e<o;e+=1)l[e]=0;let u=e.reduce((e,r,o)=>{let u=l.reduce((e,t,n)=>t<l[e]-1?n:e,0);return l[u]=l[u]+i/function({width:e,height:t}){return e/t}(r)+t+2*n,e[u].push({photo:r,index:o}),e},Array.from({length:o},()=>[]));return{spacing:t,padding:n,containerWidth:r,variables:{columns:o},tracks:u.map(e=>({photos:e.map(({photo:e,index:t})=>({photo:e,index:t,width:i,height:i/function({width:e,height:t}){return e/t}(e)}))}))}}let k=(0,o.forwardRef)(function({photos:e,breakpoints:t,defaultContainerWidth:n,...i},u){let{containerRef:a,containerWidth:s}=l(u,t,n),{spacing:c,padding:d,columns:p,...m}=function(e,{columns:t,...n}){return{...n,...h(e,n),columns:f(t,e,[5,4,3,2],1)}}(s,{photos:e,...i}),g=(0,o.useMemo)(()=>void 0!==s&&void 0!==c&&void 0!==d&&void 0!==p?R(e,c,d,s,p):void 0,[e,c,d,s,p]);return(0,r.jsx)(v,{layout:"masonry",ref:a,model:g,...m})}),x=(0,o.forwardRef)(function({layout:e,...t},n){return"rows"===e?(0,r.jsx)(b,{ref:n,...t}):"columns"===e?(0,r.jsx)(j,{ref:n,...t}):"masonry"===e?(0,r.jsx)(k,{ref:n,...t}):null})}}]);